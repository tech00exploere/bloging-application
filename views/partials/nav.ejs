<style>
  body {
    background-color: #c5f3fa;
  }

  .navbar-custom {
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(10px);
    border-bottom: 1px solid #eaeaea;        
    transition: all 0.3s ease-in-out;
  }

  .navbar-custom:hover {
    background: rgba(255, 255, 255, 1);
  }

  .nav-link {
    font-weight: 500;
    color: #0d1b2a !important;
    transition: 0.3s;
  }

  .nav-link:hover {
    color: #0d6efd !important;
  }

  .nav-profile-img {
    width: 40px;
    height: 40px;
    object-fit: cover;
    border-radius: 50%;
    border: 2px solid #fff;
    transition: 0.3s ease;
  }

  .nav-profile-img:hover {
    border-color: #0d6efd;
    transform: scale(1.05);
  }

  .btn-add-blog {
    background-color: #0d6efd;
    color: white;
    border-radius: 50px;
    padding: 8px 18px;
    font-weight: 500;
    transition: 0.3s ease;
  }

  .btn-add-blog:hover {
    background-color: #0b5ed7;
    transform: translateY(-2px);
  }

  .navbar-brand {
    font-weight: 700;
    color: #111c2e !important;
    background-color: rgb(235, 164, 77);
    border-radius: 15px;
    padding: 5px 12px;
  }

  .dropdown-menu {
    border-radius: 10px;
  }
</style>

<nav class="navbar navbar-expand-lg navbar-custom py-3 shadow-sm">
  <div class="container">

    <!-- Brand -->
    <a class="navbar-brand fw-bold fs-4" href="/">
      <i class="bi bi-journal-richtext"></i> Vlog
    </a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarNav">

      <!-- Left Menu -->
      <ul class="navbar-nav me-auto">
        <li class="nav-item">
          <a class="nav-link" href="/blog">Explore</a>
        </li>
      </ul>

      <!-- Right Side -->
      <ul class="navbar-nav ms-auto align-items-center">

        <% if (user) { %>

          <!-- Add Blog Button -->
          <li class="nav-item me-3">
            <a href="/blog/add-new" class="btn btn-add-blog">
              <i class="bi bi-pencil-square me-1"></i> Add Blog
            </a>
          </li>

          <!-- User Dropdown -->
<li class="nav-item dropdown">
  <a class="nav-link dropdown-toggle d-flex align-items-center" href="#" id="userDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
     <img src="<%= user && user.profileImageURL ? '/user_images/' + user.profileImageURL : '/images/user.png' %>" class="nav-profile-img me-2" alt="User">

    <span class="fw-semibold"><%= user ? user.fullName.split(' ')[0] : 'Guest' %></span>
  </a>

            <ul class="dropdown-menu dropdown-menu-end shadow">
              <li><a class="dropdown-item" href="/profile">Profile</a></li>
              <li><a class="dropdown-item" href="/blog/my-blogs">My Blogs</a></li>
              <li><hr class="dropdown-divider"></li>
              <li><a class="dropdown-item text-danger" href="/user/logout">Logout</a></li>
            </ul>
          </li>

        <% } else { %>
          <li class="nav-item ms-2">
            <a href="/user/signin" class="btn btn-primary px-3">Login</a>
          </li>
          <li class="nav-item ms-2">
            <a href="/user/signup" class="btn btn-outline-primary px-3">Signup</a>
          </li>
        <% } %>

      </ul>
    </div>
  </div>
</nav>
